\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{dominatrix}

\RequirePackage[l2tabu,orthodox]{nag} % Checks for incorrect or obsolete LaTeX packages
\documentclass[DIV=calc,11pt,parskip,numbers=noenddot]{scrartcl} % Uses the KOMA-Script package with customizations


% Universal Fixes
\usepackage{fixltx2e} % Corrects LaTeX2e bugs and quirks
\usepackage{ifxetex} % Checks if XeTeX/XeLaTeX is the compiler-of-choice

% Math
\usepackage{amsmath} % Swiss-knife math package

% Graphics
\usepackage{tikz} % Engine that produces vector graphics from geometric/algebraic descriptions
\usepackage{graphicx} % Allows inserting of graphics and images
\usepackage{epstopdf} % Converts .eps files to .pdf for easy manipulation

% Layout and Format
\usepackage{parallel} % Aligns paragraphs across columns
\usepackage{lineno} % Appends line-numbers in the margin with \linenumbers
%\usepackage{showkeys} % Shows label references where they are defined. Taken out because cite-keys appear funnily floating on top of references. Very ugly.
\usepackage{csquotes} % Fixes inline and display quotations
\usepackage{paralist} % Allows inline enumeration in a paragraph and compact enums/lists

% Tables and Figures
\usepackage{booktabs} % For drawing nice tables with proper line weights
\usepackage{float} % Floats tables and figures
\usepackage{flafter} % To ensure that figures float only after they are defined/referenced
\usepackage{subfig} % Figure-ception - Allows figures within figures
\usepackage{array}  % Extends options for column formats, alignments and layouts
\usepackage{tabu} % Provides better control for tables and column widths
\usepackage{longtable} % Allows tables to span across pages - integrates with tabu
\usepackage{multicol} % Allows spanning columns in tables
\usepackage{caption} % Allows greater customization of captions and captions outside floats

% Referencing
\usepackage[longnamesfirst]{natbib} % Reimplements \cite to work with author-year and numerical citations
\usepackage{cleveref} % Adds semantic naming when referencing figures
\usepackage{varioref} % Introduces referencing by page instead of figure number


% Fonts and Typography
\usepackage{microtype} % Tweaks smallish fonts and kernings
\usepackage{textcomp} % Supports the Text Companion font, which provides additional text symbols
\usepackage{siunitx} % Provides support for typesetting SI units
\usepackage{ellipsis} % Fixes space uneveness around ellipses
\usepackage{url} % Allows encapsulated URLs to break across lines
\usepackage[colorlinks,hypertexnames=false,plainpages=false]{hyperref} % Converts \url references to valid hyperlinks in PDF documents
\usepackage{euler} % Enables math-font support for the concrete package we call below
\usepackage[super]{nth} % Automatically does superscripting for "st" "rd" "th" in "1st" "2nd" etc. by using the command \nth{n}. eg. \nth{1} produces 1st with "st" superscript

% Code in LaTeX (currently set to Java)
\usepackage{listings} % Package for formatting code
\lstset % Set of parameters for listings package
{ 
language=Java, % Chooses the language of the code
basicstyle=\footnotesize, % Sets the size of the fonts that are used for the code
numbers=left, % Positions the line-numbers
numberstyle=\footnotesize, % Sets the size of the fonts that are used for the line-numbers
stepnumber=1, % Sets the step between two line-numbers. If it is 1 each line will be numbered
numbersep=5pt, % Sets how far the line-numbers are from the code
backgroundcolor=\color{white},  % Chooses the background color. You must add \usepackage{color}
showspaces=false, % Shows spaces adding particular underscores
showstringspaces=false, % Underlines spaces within strings
showtabs=false, % Shows tabs within strings adding particular underscores
frame=none, % Adds a frame around the code
tabsize=2, % Sets default tabsize to 2 spaces
captionpos=b, % Sets the caption-position to bottom
breaklines=true, % Sets automatic line breaking
breakatwhitespace=false, % Sets if automatic breaks should only happen at whitespace
escapeinside={\%*}{*)} % Formats comments
}

\ifxetex
 \DeclareTextCommandDefault{\nobreakspace}{\leavevmode\nobreak\ } 
\usepackage{fontspec} % Allows usage of system opentype/truetype fonts
\setsansfont[BoldFont={* Bold}]{Miso} % Sets the Header font via system font name
\fi
\usepackage[T1]{fontenc} % Sets output font encoding to support accented characters and Type 1 fonts
\usepackage{concrete} % Swaps out ancient Computer Modern font for Latin Modern

\setkomafont{title}{\fontencoding{EU1}\sffamily\bfseries} % Typesets the document title in Miso Bold
\setkomafont{section}{\fontencoding{EU1}\sffamily\huge\centering} % Typesets the document section in Miso and centers it
\setkomafont{subsection}{\fontencoding{EU1}\sffamily\Large} % Typesets the document subsections in Miso
\setkomafont{subsubsection}{\fontencoding{EU1}\sffamily\large} % Typesets the document subsections in Miso
\endinput